<?xml version='1.0' encoding='utf-8'?>
<configDoc date="2025-05-13 23:21:14" fileName="05_address_verify.plan" runtimeVersion="15.2.0.240425-7925-ed10bffb" cfgFilePath="workspace://Training (2)/Training_commented/plans/05_address_verify.plan" screen="images/screen_05_address_verify.plan.png" companyImage="images/logo_about.png" version="1.0">
  <generatorMeta date="2025-05-14 01:29:14" about="{1}

Version: {4} 
Runtime: {5} 
Build: {6} 

Copyright Â© 2002-{3} {2}. All rights reserved.

Your use of the product is subject to the {0} end user license agreement." name="Ataccama ONE Desktop" company="Ataccama Corporation"/>
  <configAlg image="images/TextFileReader.large.png" name="addresses (Text File Reader)" class="com.ataccama.dqc.tasks.io.text.read.TextFileReader">
    <properties lineMaxReadLength="65536" fileName="../data/in/addresses.csv" fieldSeparator=";" stringQualifierEscape="&quot;" numberOfLinesInFooter="0" compression="NONE" encoding="ISO-8859-1" lineSeparator="\r\n" stringQualifier="&quot;" numberOfLinesInHeader="1">
      <columns>
        <textReaderColumn name="src_street" ignore="false" type="STRING"/>
        <textReaderColumn name="src_city" ignore="false" type="STRING"/>
        <textReaderColumn name="src_province" ignore="false" type="STRING"/>
        <textReaderColumn name="src_zip" ignore="false" type="STRING"/>
      </columns>
      <dataFormatParameters falseValue="false" dateTimeFormat="yy-MM-dd HH:mm:ss" decimalSeparator="." dayFormat="yy-MM-dd" trueValue="true" dateFormatLocale="en_US" thousandsSeparator=""/>
      <errorHandlingStrategy rejectFileName="rejected.txt">
        <errorInstructions>
          <errorInstruction dataStrategy="READ_POSSIBLE" errorType="EXTRA_DATA" putToLog="true" putToReject="false"/>
          <errorInstruction dataStrategy="STOP" errorType="LONG_LINE" putToLog="true" putToReject="true"/>
          <errorInstruction dataStrategy="STOP" errorType="PROCESSING_ERROR" putToLog="true" putToReject="false"/>
          <errorInstruction dataStrategy="READ_POSSIBLE" errorType="INVALID_DATE" putToLog="true" putToReject="false"/>
          <errorInstruction dataStrategy="READ_POSSIBLE" errorType="SHORT_LINE" putToLog="true" putToReject="true"/>
          <errorInstruction dataStrategy="NULL_VALUE" errorType="UNPARSABLE_FIELD" putToLog="true" putToReject="false"/>
        </errorInstructions>
      </errorHandlingStrategy>
      <shadowColumns/>
    </properties>
  </configAlg>
  <configAlg image="images/AlterFormat.large.png" name="Add standardized, cleansed, explanations &amp; scoring columns (Alter Format)" class="com.ataccama.dqc.tasks.flow.AlterFormat">
    <properties>
      <addedColumns>
        <addedColumn name="std_zip" type="STRING"/>
        <addedColumn name="sco_zip" type="INTEGER"/>
        <addedColumn name="exp_zip" type="STRING"/>
        <addedColumn name="std_province_en" type="STRING"/>
        <addedColumn name="std_province_fr" type="STRING"/>
        <addedColumn name="sco_province" type="INTEGER"/>
        <addedColumn name="exp_province" type="STRING"/>
        <addedColumn name="sco_total" type="INTEGER"/>
        <addedColumn name="exp_total" type="STRING"/>
        <addedColumn name="std_city" type="STRING"/>
        <addedColumn name="sco_city" type="INTEGER"/>
        <addedColumn name="exp_city" type="STRING"/>
        <addedColumn name="pur_street" type="STRING"/>
      </addedColumns>
      <removedColumns/>
    </properties>
  </configAlg>
  <configAlg image="images/LookupAlgorithm.large.png" name="Score, explain &amp; standardize zip codes (Lookup)" class="com.ataccama.dqc.tasks.clean.LookupAlgorithm">
    <properties maxDifference="0" tableFileName="../data/ext/lkp/ca_zip.lkp" prefix="false" foreignKeyColumn="src_zip">
      <columns>
        <columnAssign expression="lookup.key" name="std_zip"/>
      </columns>
      <scorer scoreColumn="sco_zip" explanationColumn="exp_zip">
        <scoringEntries>
          <scoringEntry explain="true" score="10000000" explainAs="ZIP_NULL_ID" key="LKP_NULL_ID"/>
          <scoringEntry explain="true" score="10000000" explainAs="ZIP_NOT_FOUND" key="LKP_NOT_FOUND"/>
          <scoringEntry explain="true" score="0" explainAs="ZIP_FOUND" key="LKP_FOUND"/>
          <scoringEntry explain="true" score="0" explainAs="ZIP_FOUND_DUPL" key="LKP_FOUND_DUPL"/>
          <scoringEntry explain="true" score="100" explainAs="ZIP_APPROX_USED" key="LKP_APPROX_USED"/>
        </scoringEntries>
      </scorer>
      <selectBestMatch/>
    </properties>
  </configAlg>
  <configAlg image="images/LookupAlgorithm.large.png" name="Score, explain &amp; enrich data with province names (Lookup)" class="com.ataccama.dqc.tasks.clean.LookupAlgorithm">
    <properties maxDifference="0" tableFileName="../data/ext/lkp/ca_province.lkp" prefix="false" foreignKeyColumn="src_province">
      <columns>
        <columnAssign expression="lookup.english" name="std_province_en"/>
        <columnAssign expression="lookup.french" name="std_province_fr"/>
      </columns>
      <scorer scoreColumn="sco_province" explanationColumn="exp_province">
        <scoringEntries>
          <scoringEntry explain="true" score="10000000" explainAs="PRO_NULL_ID" key="LKP_NULL_ID"/>
          <scoringEntry explain="true" score="10000000" explainAs="PRO_NOT_FOUND" key="LKP_NOT_FOUND"/>
          <scoringEntry explain="true" score="0" explainAs="PRO_FOUND" key="LKP_FOUND"/>
          <scoringEntry explain="true" score="0" explainAs="PRO_FOUND_DUPL" key="LKP_FOUND_DUPL"/>
          <scoringEntry explain="true" score="100" explainAs="PRO_APPROX_USED" key="LKP_APPROX_USED"/>
        </scoringEntries>
      </scorer>
      <selectBestMatch/>
    </properties>
  </configAlg>
  <configAlg image="images/LookupAlgorithm.large.png" name="Score, explain &amp; standardize cities using partial matching (Lookup)" class="com.ataccama.dqc.tasks.clean.LookupAlgorithm">
    <properties maxDifference="2" tableFileName="../data/ext/lkp/ca_city.lkp" prefix="false" foreignKeyColumn="src_city">
      <columns>
        <columnAssign expression="lookup.key" name="std_city"/>
      </columns>
      <scorer scoreColumn="sco_city" explanationColumn="exp_city">
        <scoringEntries>
          <scoringEntry explain="true" score="10000000" explainAs="CITY_NULL_ID" key="LKP_NULL_ID"/>
          <scoringEntry explain="true" score="10000000" explainAs="CITY_NOT_FOUND" key="LKP_NOT_FOUND"/>
          <scoringEntry explain="true" score="0" explainAs="CITY_FOUND" key="LKP_FOUND"/>
          <scoringEntry explain="true" score="0" explainAs="CITY_FOUND_DUPL" key="LKP_FOUND_DUPL"/>
          <scoringEntry explain="true" score="100" explainAs="CITY_APPROX_USED" key="LKP_APPROX_USED"/>
        </scoringEntries>
      </scorer>
      <selectBestMatch/>
    </properties>
  </configAlg>
  <configAlg image="images/ApplyReplacementsAlgorithm.large.png" name="Standardize streets  (Apply Replacements)" class="com.ataccama.dqc.tasks.clean.ApplyReplacementsAlgorithm">
    <properties in="src_street" replacementsFileName="../data/ext/lkp/ca_street_apply_replacement.lkp" preserveUnsupportedChars="false" onlyFullReplacement="false" out="pur_street">
      <scorer>
        <scoringEntries>
          <scoringEntry explain="true" score="0" explainAs="AR_CHANGED" key="AR_CHANGED"/>
          <scoringEntry explain="true" score="0" explainAs="AR_NULL" key="AR_NULL"/>
          <scoringEntry explain="true" score="0" explainAs="AR_MULTI" key="AR_MULTI"/>
          <scoringEntry explain="true" score="0" explainAs="AR_MORE" key="AR_MORE"/>
        </scoringEntries>
      </scorer>
      <tokenizer whiteSpaceDefinition="[:white:]">
        <types>
          <tokenType tokenStartCharacters="[:letter:]" tokenCharacters="[:letter:]"/>
          <tokenType tokenStartCharacters="[:digit:]" tokenCharacters="[:digit:]"/>
        </types>
      </tokenizer>
    </properties>
  </configAlg>
  <configAlg image="images/ColumnAssigner.large.png" name="Calculate total score &amp; explanation (Column Assigner)" class="com.ataccama.dqc.tasks.expressions.ColumnAssigner">
    <properties>
      <assignments>
        <assignment expression="sco_zip+sco_province+sco_city" column="sco_total">
          <scorer>
            <scoringEntries/>
          </scorer>
        </assignment>
        <assignment expression="exp_zip+&#39; &#39;+exp_province+&#39; &#39;+exp_city" column="exp_total">
          <scorer>
            <scoringEntries/>
          </scorer>
        </assignment>
      </assignments>
    </properties>
  </configAlg>
  <configAlg image="images/TextFileWriter.large.png" name="addresses_out (Text File Writer)" class="com.ataccama.dqc.tasks.io.text.write.TextFileWriter">
    <properties writeHeader="true" fileName="../data/out/addresses_out.csv" fieldSeparator=";" generateMetadata="true" stringQualifierEscape="&quot;" writeAllColumns="true" compression="NONE" encoding="UTF-8" lineSeparator="\r\n" stringQualifier="&quot;" useStringQualifierOnAllColumns="false">
      <columns/>
      <dataFormatParameters falseValue="false" dateTimeFormat="yyyy-MM-dd HH:mm:ss" decimalSeparator="." dayFormat="yyyy-MM-dd" trueValue="true" dateFormatLocale="en_US" thousandsSeparator=""/>
    </properties>
  </configAlg>
</configDoc>